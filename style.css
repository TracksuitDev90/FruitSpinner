:root{
  --ink: #e9eef5;
  --muted: #9aa4b2;
  --wheel-size: clamp(300px, 92vmin, 720px);
  --inner-coverage: 0.88; /* flat inner coverage */
  --ring: #7ac9ff;
  --ring-bg: rgba(122, 201, 255, .25);
}

/* OLED-dark base */
*{ box-sizing: border-box; }
html, body { height: 100%; }
body{
  margin: 0;
  background: #000; /* OLED pure black */
  color: var(--ink);
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  display: grid;
  grid-template-rows: auto 1fr;
}

/* Modern header */
.site-header{ text-align: center; padding: 18px 16px 8px; }
.site-header h1{
  margin: 0;
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  font-weight: 900;
  font-size: clamp(26px, 6.2vmin, 62px);
  letter-spacing: 0.5px;
  line-height: 1.05;
  display: inline-block;
  filter: drop-shadow(0 6px 20px rgba(0,0,0,.85));
  white-space: nowrap;
}
.h1-word{ background: linear-gradient(#dfe6f3,#b7c5de); -webkit-background-clip:text; background-clip:text; color: transparent; }
.h1-fruit{
  /* extra colorful just for FRUIT */
  background: conic-gradient(from 0deg, #ff6aa3, #ffd36b, #7ef2b7, #7ac9ff, #c3a6ff, #ff8dda, #ff6aa3);
  -webkit-background-clip: text; background-clip: text; color: transparent;
}

.stage{ display: grid; place-items: center; padding: 10px 16px 28px; gap: 16px; }

.wheel-wrap{
  position: relative;
  width: var(--wheel-size);
  height: var(--wheel-size);
  display: grid;
  place-items: center;
  filter: drop-shadow(0 18px 40px rgba(0,0,0,.75));
}
#wheel{
  display:block; /* remove inline baseline gap */
  width: 100%; height: 100%; border-radius: 50%;
  background: #0a0a0a; /* very dark */
  box-shadow:
    inset 0 0 0 2px rgba(255,255,255,.05),
    inset 0 0 60px rgba(255,255,255,.04);
}

/* pointer */
.pointer{
  position: absolute; top: -10px; left: 50%; transform: translateX(-50%);
  width: 0; height: 0; z-index: 3; pointer-events: none; user-select: none;
  border-left: 18px solid transparent; border-right: 18px solid transparent;
  border-bottom: 30px solid #fff;
  filter: drop-shadow(0 4px 10px rgba(0,0,0,.6));
}
.pointer::after{
  content: ""; position: absolute; top: 26px; left: -14px;
  width: 28px; height: 7px; border-radius: 5px; background: rgba(255,255,255,.9);
}

/* center button (tactile + ripple + bubbles container) */
#spin{
  position: absolute;
  width: clamp(96px, 18vmin, 150px);
  height: clamp(96px, 18vmin, 150px);
  border-radius: 50%; border: 0;
  font-weight: 900; letter-spacing: .6px; font-size: clamp(16px, 2.2vmin, 22px);
  color: #0d1220;
  background: radial-gradient(120% 100% at 30% 25%, #ffffff 0%, #d4e7ff 35%, #a6d3ff 70%, #7ac9ff 100%);
  box-shadow: 0 12px 26px rgba(0,0,0,.6), inset 0 3px 8px rgba(255,255,255,.7), inset 0 -8px 14px rgba(0,0,0,.25);
  cursor: pointer; z-index: 2; transition: transform .12s ease, opacity .2s ease;
  touch-action: manipulation; -webkit-tap-highlight-color: transparent;
  overflow: visible; /* so bubbles can leave the button */
}
#spin:hover{ transform: translateY(-1px) scale(1.02); }
#spin:active,
#spin.pressed { transform: translateY(1px) scale(.965); }
#spin[disabled]{ opacity: .6; cursor: not-allowed; }

/* Subtle ripple (kept simple, no neon glow) */
#spin::before{
  content:""; position:absolute; left:var(--rx,50%); top:var(--ry,50%);
  width:0; height:0; border-radius:50%;
  transform: translate(-50%,-50%);
  background: rgba(255,255,255,.45);
  pointer-events: none;
}
#spin.rippling::before{ animation: ripple .45s ease-out forwards; }
@keyframes ripple{
  from{ width:0; height:0; opacity:.5; }
  to  { width:240%; height:240%; opacity:0; }
}

/* Bubble particles (inspired by the CodePen, no glow) */
.bubble{
  position:absolute; left:0; top:0;
  border-radius:50%;
  pointer-events:none;
  opacity:.95;
  transform: translate(var(--x,0px), var(--y,0px)) scale(.2);
  animation: bubble var(--dur,650ms) ease-out var(--delay,0ms) forwards;
  will-change: transform, opacity;
}
@keyframes bubble{
  to{
    transform: translate(calc(var(--x) + var(--dx,0px)), calc(var(--y) + var(--dy,-60px))) scale(1);
    opacity: 0;
  }
}

/* Controls */
.controls{ display: flex; align-items: center; gap: 12px; margin-top: 6px; }
.ghost{ background: transparent; border: 1px solid rgba(255,255,255,.18); color: var(--muted); padding: 8px 12px; border-radius: 8px; cursor: pointer; }
.ghost:hover{ border-color: rgba(255,255,255,.35); color: #fff; }

.status{ min-height: 1.5em; color: var(--muted); font-weight: 600; letter-spacing: .2px; }

/* modal */
.modal{ position: fixed; inset: 0; background: rgba(0,0,0,.65); display: grid; place-items: center; z-index: 10; }
.modal[hidden]{ display: none; }
.modal__panel{
  width: min(90vw, 340px);
  background: #121212;
  border: 3px solid #7ac9ff; /* will be themed per fruit */
  border-radius: 14px; padding: 16px; text-align: center;
  box-shadow: 0 20px 60px rgba(0,0,0,.8);
}
.modal__icons{
  display: flex; justify-content: center; gap: 8px; margin-top: 2px; font-size: 44px;
}
.modal h2{ margin: 8px 0 16px; font-size: 20px; }
.primary{ background: #7ac9ff; color: #0b1020; font-weight: 800; border: 0; border-radius: 10px; padding: 10px 14px; cursor: pointer; }

/* Focus visibility */
button:focus { outline: none; }
button:focus-visible {
  box-shadow:
    0 0 0 2px var(--ring),
    0 0 0 6px var(--ring-bg);
}
#spin:focus-visible { transform: translateY(-1px) scale(1.02); }

/* When app is inert behind modal */
[inert] { pointer-events: none; user-select: none; }

/* Reduced motion */
@media (prefers-reduced-motion: reduce){
  #spin{ transition: none; }
  #spin.rippling::before{ animation-duration: .2s; }
}

/* Forced-colors / High-contrast */
@media (forced-colors: active) {
  .ghost { border-color: ButtonText; color: ButtonText; }
  .primary { background: Highlight; color: HighlightText; }
  .modal__panel { border-color: Highlight; }
  #spin { color: ButtonText; }
}